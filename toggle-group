&quot;use client&quot;;

import * as React from &quot;react&quot;;
import * as ToggleGroupPrimitive from &quot;@radix-ui/react-toggle-group&quot;;
import { type VariantProps } from &quot;class-variance-authority&quot;;

import { cn } from &quot;./utils&quot;;
import { toggleVariants } from &quot;./toggle&quot;;

const ToggleGroupContext = React.createContext&lt;
VariantProps&lt;typeof toggleVariants&gt;
&gt;({
size: &quot;default&quot;,
variant: &quot;default&quot;,
});

function ToggleGroup({
className,
variant,
size,
children,
...props
}: React.ComponentProps&lt;typeof ToggleGroupPrimitive.Root&gt; &amp;
VariantProps&lt;typeof toggleVariants&gt;) {
return (
&lt;ToggleGroupPrimitive.Root
data-slot=&quot;toggle-group&quot;
data-variant={variant}
data-size={size}
className={cn(
&quot;group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs&quot;,
className,

)}
{...props}
&gt;
&lt;ToggleGroupContext.Provider value={{ variant, size }}&gt;
{children}
&lt;/ToggleGroupContext.Provider&gt;
&lt;/ToggleGroupPrimitive.Root&gt;
);
}

function ToggleGroupItem({
className,
children,
variant,
size,
...props
}: React.ComponentProps&lt;typeof ToggleGroupPrimitive.Item&gt; &amp;
VariantProps&lt;typeof toggleVariants&gt;) {
const context = React.useContext(ToggleGroupContext);

return (
&lt;ToggleGroupPrimitive.Item
data-slot=&quot;toggle-group-item&quot;
data-variant={context.variant || variant}
data-size={context.size || size}
className={cn(
toggleVariants({
variant: context.variant || variant,
size: context.size || size,
}),
&quot;min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10
focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l&quot;,

className,
)}
{...props}
&gt;
{children}
&lt;/ToggleGroupPrimitive.Item&gt;
);
}

export { ToggleGroup, ToggleGroupItem };
